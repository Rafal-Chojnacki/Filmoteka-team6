const e=document.getElementById("search-form"),t=document.querySelector(".input"),n=document.getElementById("gallery"),a=document.getElementById("loader"),i=document.querySelector(".notitle");async function l(e){try{const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=e7c806d7ce9bbdf1ef93bebcabbfe0f1&language=en-US&query=${e}&page=1&include_adult=false`),l=(await t.json()).results;if(0===l.length)return c(),void o();const r=l.map((e=>Promise.all([s(e.genre_ids),e])));a.style.display="flex";const d=(await Promise.all(r)).map((([e,t])=>{const{id:n,poster_path:a,title:i,release_date:l}=t;if(!l||!a||0===e.length)return"";const s=`https://image.tmdb.org/t/p/w500/${a}`,o=new Date(l).getFullYear();return`\n        <a class="gallery__link">\n          <div class="gallery-item" id="${n}">\n            <img class="gallery-item__img" src="${s}" loading="lazy" />\n            <p class="info-item">${i}</p>\n            <p class="info-item">${e.slice(0,2).join(", ")}</p>\n            <p class="info-item">${o}</p>\n          </div>\n        </a>\n      `}));o(),function(e){n.innerHTML="";const t=e.join("");n.insertAdjacentHTML("beforeend",t)}(d),i.style.display="none"}catch(e){console.log(e.toString()),o(),c()}}async function s(e){try{const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e7c806d7ce9bbdf1ef93bebcabbfe0f1&language=en-US"),n=(await t.json()).genres;return e.map((e=>{const t=n.find((t=>t.id===e));return t?t.name:""})).filter((e=>""!==e))}catch(e){return console.log(e.toString()),[]}}function o(){a.style.display="none"}function c(){i.innerText="Search result not successful. Enter the correct movie name",i.style.display="block"}o(),e.addEventListener("submit",(e=>{e.preventDefault();l(t.value),t.value=""}));
//# sourceMappingURL=index.815912ee.js.map
