{"mappings":"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","sources":["src/js/header.js","src/js/moviesGallery.js","src/js/switchDayNight.js","src/js/details.js","src/js/footer.js"],"sourcesContent":["const searchForm = document.getElementById('search-form');\nconst searchInput = document.querySelector('.input');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\nconst notitle = document.querySelector('.notitle');\nconst API_KEY = 'e7c806d7ce9bbdf1ef93bebcabbfe0f1';\nlet genreMap = {};\n\n\nhideLoader();\n\nasync function fetchGenres() {\n  try {\n    const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`);\n    const data = await response.json();\n    const genres = data.genres;\n\n    for (const genre of genres) {\n      genreMap[genre.id] = genre.name;\n    }\n  } catch (error) {\n    console.log(error.toString());\n  }\n}\n\nasync function searchMovies(query) {\n  try {\n    showLoader(); \n    const response = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`);\n    const data = await response.json();\n    const movies = data.results;\n    hideLoader(); \n    renderGallery(movies);\n\n    if (movies.length === 0) {\n      hideLoader();\n      showNoTitleMessage();\n    } else {\n      hideNoTitleMessage();\n    }\n  } catch (error) {\n    console.log(error.toString());\n    hideLoader(); \n    showNoTitleMessage();\n  }\n}\n\n\n\nfunction renderGallery(movies) {\n  gallery.innerHTML = '';\nconst markup = movies.map(movie =>{ \n  const { id, poster_path, title, release_date, genre_ids } = movie;\n\n  if (!release_date || !poster_path || genre_ids.length === 0) {\n    return ''; \n  }\n\n  const posterUrl = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n  const productionYear = new Date(release_date).getFullYear();\n  const genresFormatted = genre_ids\n  .map(genreId => genreMap[genreId])\n  .slice(0, 2)\n  .join(', ');\n\n  return `\n  <a class=\"gallery__link\">\n  <div class=\"gallery__item\" id=\"${id}\">\n    <img class=\"gallery__item-img\" src=\"${posterUrl}\" loading=\"lazy\" />\n    <h4 class=\"gallery__item-header\">${title}</h4>\n    <span class=\"gallery__item-info\">${genresFormatted}</span>\n    <span class=\"gallery__item-info\">${productionYear}</span>\n  </div>\n</a>\n  `;\n}).join(\"\")\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showLoader() {\n  loader.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction showNoTitleMessage() {\n  notitle.innerText = 'Search result not successful. Enter the correct movie name.';\n  notitle.style.display = 'block';\n}\n\nfunction hideNoTitleMessage() {\n  notitle.style.display = 'none';\n}\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = searchInput.value;\n  searchMovies(query);\n  searchInput.value = '';\n});\n\n  fetchGenres();\n\n\n\n\nexport {hideLoader};","'use strict';\nconst API_KEY = 'e7c806d7ce9bbdf1ef93bebcabbfe0f1';\nconst gallery = document.querySelector('.gallery');\nfunction moviesGallery(movies, genres) {\n  gallery.innerHTML = '';\n  const markup = movies\n    .sort((firstMovie, secondMovie) => secondMovie.popularity - firstMovie.popularity)\n    .map(movie => {\n      const { poster_path, id, title, release_date, genre_ids } = movie;\n      const year = new Date(release_date).getFullYear();\n      const movieGenres = genres\n        .filter(genre => genre_ids.includes(genre.id))\n        .map(genre => genre.name)\n        .join(', ');\n      return `\n <a class=\"gallery__link\">\n <div class=\"gallery__item\" id=\"${id}\">\n <img class=\"gallery__item-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"/>\n <h4 class=\"gallery__item-header\">${title}</h4>\n <span class=\"gallery__item-info\">${movieGenres}</span>\n <span class=\"gallery__item-info\">${year}</span>\n </div>\n </a>\n `;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('afterbegin', markup);\n}\nexport async function fetchMovies(pageNum) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&page=${pageNum}`,\n    );\n    const data = await response.json();\n    const genres = await fetchGenre();\n    moviesGallery(data.results, genres);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\nfetchMovies();\nasync function fetchGenre() {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`,\n    );\n    const data = await response.json();\n    const genres = data.genres;\n    return genres;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nconst btnUp = document.querySelector('.btnUp');\nbtnUp.style.display = 'none';\nwindow.onscroll = function () {\n  scrollFunction();\n};\nfunction scrollFunction() {\n  if (document.documentElement.scrollTop > 200) {\n    btnUp.style.display = 'block';\n  } else {\n    btnUp.style.display = 'none';\n  }\n  btnUp.addEventListener('click', scrollToTop);\n}\nfunction scrollToTop() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","// import { hideLoader } from \"./header\";\n\nconst icon = document.querySelector('.toggle-icon-sun');\nconst switchDayNight = document.querySelector('.day-night-switch');\n\n\nif (localStorage.getItem('darkMode')===null){\n    localStorage.setItem('darkMode', \"false\");\n}\n\ncheckDarkModeStatus();\n\nfunction checkDarkModeStatus(){\n    if (localStorage.getItem(\"darkMode\")==='true'){\n        addDarkTheme();\n        switchDayNight.checked = true;\n    }else{\n        removeDarkTheme();\n        switchDayNight.checked = false;\n    }\n}\n\n\n\nswitchDayNight.addEventListener('change', ()=>{\nif(switchDayNight.checked){\naddDarkTheme()\n    \n}else{\nremoveDarkTheme()\n}\n  localStorage.setItem(\"darkMode\",switchDayNight.checked);\n})\n\nfunction addDarkTheme(){\n    document.body.classList.add('dark__theme');\n    \n\n    icon.classList.remove('toggle-icon-sun')\n    icon.classList.add('toggle-icon-moon');\n\n   \n}\n\n\nfunction removeDarkTheme(){\n    document.body.classList.remove('dark__theme');\n   \n\n    icon.classList.remove('toggle-icon-moon' );\n    icon.classList.add('toggle-icon-sun');\n\n  \n}","const API_KEY = 'e7c806d7ce9bbdf1ef93bebcabbfe0f1';\nconst modalBackdrop = document.querySelector('.backdrop');\nconst btnClose = document.querySelector('.modal__btnClose');\nconst btnWatched = document.querySelector('.modal__btnWatched');\nconst btnQueued = document.querySelector('.modal__btnQueue');\nconst modalImg = document.querySelector('.modal__moviePoster');\nconst modalTitle = document.querySelector('.modal__title');\nconst modalAbout = document.querySelector('.modal__about');\nconst modalGenre = document.querySelector('.modal__genre');\nconst modalVotes = document.querySelector('.modal__votes');\nconst modalPopularity = document.querySelector('.modal__popularity');\nconst modalOrgTitle = document.querySelector('.modal__originalTitle');\n\nlet movieId;\n\nfunction detailsHandler(clickedMovie) {\n  //console.log(clickedMovie.target);\n\n  if (clickedMovie.target.matches('img')) {\n    movieId = clickedMovie.target.parentNode.id;\n    //console.log(movieId);\n    fetchId(movieId).then(movieData => {\n      modalImg.setAttribute('src', `https://image.tmdb.org/t/p/w500/${movieData.poster_path}`);\n      modalTitle.textContent = movieData.title;\n      modalVotes.textContent = `${movieData.vote_average}/ ${movieData.vote_count}`;\n      modalPopularity.textContent = movieData.popularity;\n      modalOrgTitle.textContent = movieData.original_title;\n      modalAbout.textContent = movieData.overview;\n      modalGenre.textContent = movieData.genres[0].name;\n      //console.log(movieData);\n    });\n    toggleModal();\n  } else return;\n}\n\nasync function fetchId(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`,\n    );\n    const Data = await response.json();\n    return Data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction toggleModal() {\n  modalBackdrop.classList.toggle('is-hidden');\n}\nfunction EscapeCloseModal(e) {\n  if (e.keyCode === 27 && !modalBackdrop.classList.contains('is-hidden')) toggleModal();\n}\nfunction clickOffModal(e) {\n  if (e.target === modalBackdrop) toggleModal();\n}\n\nfunction saveToWatched() {\n  let tempArray = [];\n  if (localStorage.getItem('watched-films')) {\n    tempArray = JSON.parse(localStorage.getItem('watched-films'));\n  }\n  fetchId(movieId).then(data => {\n    for (let i = 0; i < tempArray.length; i++) {\n      if (tempArray[i].id === data.id) {\n        alert('Movie is already in library');\n        return;\n      }\n    }\n    tempArray.push(data);\n    localStorage.setItem('watched-films', JSON.stringify(tempArray));\n  });\n}\n\nfunction saveToQueue() {\n  let tempArray = [];\n  if (localStorage.getItem('queued-films')) {\n    tempArray = JSON.parse(localStorage.getItem('queued-films'));\n  }\n  fetchId(movieId).then(data => {\n    for (let i = 0; i < tempArray.length; i++) {\n      if (tempArray[i].id === data.id) {\n        alert('Movie is already in library');\n        return;\n      }\n    }\n    tempArray.push(data);\n    localStorage.setItem('queued-films', JSON.stringify(tempArray));\n  });\n}\n\ngallery.addEventListener('click', detailsHandler);\nbtnClose.addEventListener('click', toggleModal);\nbtnWatched.addEventListener('click', saveToWatched);\nbtnQueued.addEventListener('click', saveToQueue);\ndocument.addEventListener('keydown', EscapeCloseModal);\nmodalBackdrop.addEventListener('click', clickOffModal);\n","const modal = document.querySelector('.modal-footer');\nconst closeButton = document.querySelector('.close-footer');\n\nconst openModalElement = document.querySelector('.open-modal');\nconst closeModalElement = document.querySelector('.close-modal');\n\n// Obsługa otwierania modala\nopenModalElement.addEventListener('click', () => {\n  modal.style.display = 'block';\n});\n\n// Obsługa zamykania modala\ncloseModalElement.addEventListener('click', () => {\n  modal.style.display = 'none';\n});\n"],"names":["$aab16197212dc73e$var$searchForm","document","getElementById","$aab16197212dc73e$var$searchInput","querySelector","$aab16197212dc73e$var$gallery","$aab16197212dc73e$var$loader","$aab16197212dc73e$var$notitle","$aab16197212dc73e$var$API_KEY","$aab16197212dc73e$var$genreMap","async","$aab16197212dc73e$var$searchMovies","query","style","display","response","fetch","movies","json","results","$aab16197212dc73e$export$5cee2c2772922923","innerHTML","markup","map","movie","id","poster_path","title","release_date","genre_ids","length","posterUrl","productionYear","Date","getFullYear","genreId","slice","join","insertAdjacentHTML","$aab16197212dc73e$var$renderGallery","$aab16197212dc73e$var$showNoTitleMessage","error","console","log","toString","innerText","addEventListener","e","preventDefault","value","genres","genre","name","$aab16197212dc73e$var$fetchGenres","$9d6cd42a4b230b34$var$API_KEY","$9d6cd42a4b230b34$var$gallery","pageNum","data","$9d6cd42a4b230b34$var$fetchGenre","sort","firstMovie","secondMovie","popularity","year","filter","includes","$9d6cd42a4b230b34$var$moviesGallery","$9d6cd42a4b230b34$export$88181abcadffafee","$9d6cd42a4b230b34$var$btnUp","$9d6cd42a4b230b34$var$scrollToTop","window","scrollTo","top","behavior","onscroll","documentElement","scrollTop","$9d6cd42a4b230b34$var$scrollFunction","$18a345b65de8f7ec$var$icon","$18a345b65de8f7ec$var$switchDayNight","$18a345b65de8f7ec$var$addDarkTheme","body","classList","add","remove","$18a345b65de8f7ec$var$removeDarkTheme","localStorage","getItem","setItem","checked","$9ec85ec673672488$var$modalBackdrop","$9ec85ec673672488$var$btnClose","$9ec85ec673672488$var$btnWatched","$9ec85ec673672488$var$btnQueued","$9ec85ec673672488$var$modalImg","$9ec85ec673672488$var$modalTitle","$9ec85ec673672488$var$modalAbout","$9ec85ec673672488$var$modalGenre","$9ec85ec673672488$var$modalVotes","$9ec85ec673672488$var$modalPopularity","$9ec85ec673672488$var$modalOrgTitle","$9ec85ec673672488$var$movieId","$9ec85ec673672488$var$fetchId","movieId","$9ec85ec673672488$var$toggleModal","toggle","gallery","clickedMovie","target","matches","parentNode","then","movieData","setAttribute","textContent","vote_average","vote_count","original_title","overview","tempArray","JSON","parse","i","alert","push","stringify","keyCode","contains","$c687303ce0c554e9$var$modal","$c687303ce0c554e9$var$openModalElement","$c687303ce0c554e9$var$closeModalElement"],"version":3,"file":"index.bfe65416.js.map"}