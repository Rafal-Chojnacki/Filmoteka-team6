const e=document.querySelector(".toggle-icon-sun"),t=document.querySelector(".day-night-switch");function o(){document.body.classList.add("dark__theme"),e.classList.remove("toggle-icon-sun"),e.classList.add("toggle-icon-moon")}function n(){document.body.classList.remove("dark__theme"),e.classList.remove("toggle-icon-moon"),e.classList.add("toggle-icon-sun")}null===localStorage.getItem("darkMode")&&localStorage.setItem("darkMode","false"),"true"===localStorage.getItem("darkMode")?(o(),t.checked=!0):(n(),t.checked=!1),t.addEventListener("change",(()=>{t.checked?o():n(),localStorage.setItem("darkMode",t.checked)}));var a={};const l=document.querySelector(".myLibrary--watched"),i=document.querySelector(".myLibrary--queue"),s=document.querySelector(".watched"),c=document.querySelector(".queue"),r=document.querySelector(".header_library");function d(){l.innerHTML="",l.classList.remove("is-hidden"),i.classList.add("is-hidden"),c.classList.remove("aktiv"),s.classList.add("aktiv");let e=localStorage.getItem("watched-films"),t=JSON.parse(e);if(console.log(t),t&&t.length>0){const e=t.map((e=>`<a class="gallery__link">\n        <div class="gallery__item" id="${e.id}">\n          <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" />\n          <h4 class="gallery__item-header">${e.title}</h4>\n          <span class="gallery__item-info">${e.genres.map((e=>`${e.name}`)).join(", ")}</span>\n          <span class="gallery__item-info">${e.release_date.substring(0,4)}</span>\n        </div>\n      </a>`)).join("");l.insertAdjacentHTML("afterbegin",e)}else l.insertAdjacentHTML("afterbegin","There are no movies in your watched gallery")}s.addEventListener("click",d),r.addEventListener("click",d),c.addEventListener("click",(function(){i.innerHTML="",l.classList.add("is-hidden"),i.classList.remove("is-hidden"),s.classList.remove("aktiv"),c.classList.add("aktiv");let e=localStorage.getItem("queued-films"),t=JSON.parse(e);if(console.log(t),t&&t.length>0){const e=t.map((e=>`<a class="gallery__link">\n    <div class="gallery__item" id="${e.id}">\n      <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" />\n      <h4 class="gallery__item-header">${e.title}</h4>\n      <span class="gallery__item-info">${e.genres.map((e=>`${e.name}`)).join(", ")}</span>\n      <span class="gallery__item-info">${e.release_date.substring(0,4)}</span>\n    </div>\n  </a>`)).join("");i.insertAdjacentHTML("afterbegin",e)}else i.insertAdjacentHTML("afterbegin","There are no queued movies in your gallery")})),window.addEventListener("load",d);const m=document.querySelector(".modal-footer"),u=(document.querySelector(".close-footer"),document.querySelector(".open-modal")),g=document.querySelector(".close-modal");u.addEventListener("click",(()=>{m.style.display="block"})),g.addEventListener("click",(()=>{m.style.display="none"}));const y=document.querySelector(".backdrop"),_=document.querySelector(".modal__btnClose"),h=document.querySelector(".modal__moviePoster"),S=document.querySelector(".modal__title"),v=document.querySelector(".modal__about"),f=document.querySelector(".modal__genre"),p=document.querySelector(".modal__vote"),L=document.querySelector(".modal__votes"),q=document.querySelector(".modal__popularity"),b=document.querySelector(".modal__originalTitle"),k=document.querySelectorAll(".gallery"),w=document.querySelector(".modal__btnRemoveWatched"),$=document.querySelector(".modal__btnRemoveQueue");let E;function I(e){e.target.matches("img")&&(E=e.target.parentNode.id,console.log(e.currentTarget),e.currentTarget.classList.contains("myLibrary--queue")&&($.classList.remove("is-hidden"),w.classList.add("is-hidden")),e.currentTarget.classList.contains("myLibrary--watched")&&(w.classList.remove("is-hidden"),$.classList.add("is-hidden")),T(E).then((e=>{h.setAttribute("src",`https://image.tmdb.org/t/p/w500/${e.poster_path}`),S.textContent=e.title,p.textContent=`${e.vote_average.toFixed(1)}`,L.textContent=`${e.vote_count}`,q.textContent=e.popularity.toFixed(1),b.textContent=e.original_title,v.textContent=e.overview,f.textContent=e.genres[0].name})),x())}async function T(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=e7c806d7ce9bbdf1ef93bebcabbfe0f1`);return await t.json()}catch(e){console.log(e)}}function x(){y.classList.toggle("is-hidden")}k.forEach((e=>{e.addEventListener("click",I)})),_.addEventListener("click",x),document.addEventListener("keydown",(function(e){27!==e.keyCode||y.classList.contains("is-hidden")||x()})),y.addEventListener("click",(function(e){e.target===y&&x()})),w.addEventListener("click",(function(){let e=[];localStorage.getItem("watched-films")&&(e=JSON.parse(localStorage.getItem("watched-films"))),T(E).then((t=>{for(let o=0;o<e.length;o++)if(e[o].id===t.id){const o=e.findIndex((e=>e.id===t.id));e.splice(o,1),localStorage.setItem("watched-films",JSON.stringify(e));document.querySelector(`#${CSS.escape(t.id)}`).parentNode.remove()}(0,a.myLibraryWatchedGallery)()}))})),$.addEventListener("click",(function(){let e=[];localStorage.getItem("queued-films")&&(e=JSON.parse(localStorage.getItem("queued-films"))),T(E).then((t=>{for(let o=0;o<e.length;o++)if(e[o].id===t.id){const o=e.findIndex((e=>e.id===t.id));e.splice(o,1),localStorage.setItem("queued-films",JSON.stringify(e));document.querySelector(`#${CSS.escape(t.id)}`).parentNode.remove()}}))}));
//# sourceMappingURL=mylibrary.2c6107a4.js.map
