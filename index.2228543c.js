var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequire7475;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequire7475=a);const i=document.getElementById("search-form"),o=document.querySelector(".input"),l=document.getElementById("gallery"),s=document.getElementById("loader"),c=document.querySelector(".notitle"),r="e7c806d7ce9bbdf1ef93bebcabbfe0f1";let p={};async function d(e,n=1,t=20){try{l.innerHTML="",g();const a=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${r}&language=en-US&query=${e}&include_adult=false&page=${n}`),i=(await a.json()).results.slice(0,t);u(),function(e){l.innerHTML="";const n=e.map((e=>{const{id:n,poster_path:t,title:a,release_date:i,genre_ids:o}=e;if(!i||!t||0===o.length)return"";const l=`https://image.tmdb.org/t/p/w500/${t}`,s=new Date(i).getFullYear();return`\n  <a class="gallery__link">\n  <div class="gallery__item" id="${n}">\n    <img class="gallery__item-img" src="${l}" loading="lazy" />\n    <h4 class="gallery__item-header">${a}</h4>\n    <span class="gallery__item-info">${o.map((e=>p[e])).slice(0,2).join(", ")}</span>\n    <span class="gallery__item-info">${s}</span>\n  </div>\n</a>\n  `})).join("");l.insertAdjacentHTML("beforeend",n)}(i),0===i.length?(u(),y(),l.innerHTML='<p class="myfriend"></p>'):m()}catch(e){console.log(e.toString()),u(),y()}}function g(){s.style.display="flex"}function u(){s.style.display="none"}function y(){c.innerText="Search result not successful. Enter the correct movie name.",c.style.display="block"}function m(){c.style.display="none"}u(),i.addEventListener("submit",(e=>{e.preventDefault();d(o.value),o.value=""})),async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${r}&language=en-US`),n=(await e.json()).genres;for(const e of n)p[e.id]=e.name}catch(e){console.log(e.toString())}}();const f="e7c806d7ce9bbdf1ef93bebcabbfe0f1",h=document.querySelector(".gallery");async function b(e){try{const n=await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${f}&page=${e}`),t=await n.json(),a=await async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${f}`),n=await e.json();return n.genres}catch(e){console.log(e)}}();return function(e,n){h.innerHTML="";const t=e.sort(((e,n)=>n.popularity-e.popularity)).map((e=>{const{poster_path:t,id:a,title:i,release_date:o,genre_ids:l}=e,s=new Date(o).getFullYear();return`\n <a class="gallery__link">\n <div class="gallery__item" id="${a}">\n <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${t}"/>\n <h4 class="gallery__item-header">${i}</h4>\n <span class="gallery__item-info">${n.filter((e=>l.includes(e.id))).map((e=>e.name)).join(", ")}</span>\n <span class="gallery__item-info">${s}</span>\n </div>\n </a>\n `})).join("");h.insertAdjacentHTML("afterbegin",t)}(t.results,a),t}catch(e){console.log(e)}}b();const _=document.querySelector(".btnUp");function v(){window.scrollTo({top:0,behavior:"smooth"})}_.style.display="none",window.onscroll=function(){!function(){document.documentElement.scrollTop>200?_.style.display="block":_.style.display="none";_.addEventListener("click",v)}()};const w=document.querySelector(".pagination ul"),$=document.querySelector(".gallery"),k=document.querySelector(".pagination"),T="e7c806d7ce9bbdf1ef93bebcabbfe0f1";let j;const L=async e=>{data=await b(e),j=500,S(500,e)};function S(e,n){let t,a="",i=n-1,o=n+1;n>1&&(a+=`<li class="btn prev" onclick="paginationClick(${e}, ${n-1})"><span class="arrow prev-arrow">&#129128;</span></li>`),n>2&&(a+=`<li class="pageNumber" onclick="paginationClick(${e}, 1)"><span>1</span></li>`,n>3&&(a+='<li class="dots"><span>&#8226;&#8226;&#8226;</span></li>')),n===e?i-=4:n===e-1?i-=1:n===e-2&&(o-=1),1===n?o+=4:2===n?o+=1:3===n&&(i+=1);for(let l=i-1;l<=o+1;l++)l<0||l>e||l>e+1||(0===l&&(l+=1),t=n===l?"active":"",a+=`<li class="pageNumber ${t}" onclick="paginationClick(${e}, ${l})"><span>${l}</span></li>`);n<e-1&&(n<e-2&&(a+='<li class="dots"><span>&#8226;&#8226;&#8226;</span></li>'),a+=`<li class="pageNumber" onclick="paginationClick(${e}, ${e})"><span>${e}</span></li>`),n<e&&(a+=`<li class="btn next" onclick="paginationClick(${e}, ${n+1})"><span class="arrow next-arrow">&#129130;</span></li>`),w.innerHTML=a}L(1),window.paginationClick=function(e,n){S(e,n),L(n)},k.addEventListener("click",(e=>{if("li"===e.target.localName||"span"===e.target.localName)if(M(),""===searchText){q("https://api.themoviedb.org/3/trending/movie/week?api_key=e7c806d7ce9bbdf1ef93bebcabbfe0f1&page="+e.target.textContent)}else{const n="https://api.themoviedb.org/3/movie/popular?api_key="+T+"&query="+searchText+"&page="+e.target.textContent;console.log(n),q(n)}}));const M=()=>{$.innerHTML=""};async function q(e){try{const n=await fetch(e);await n.json()}catch(e){console.log(e.toString())}}a("2794w"),a("dDcbB"),a("h2L8D");const x=document.querySelector(".gallery"),H=document.querySelector(".genre"),C="6fc014c055bacb8460b83603c43b9093";let E="";H.addEventListener("change",(function(e){x.innerHTML="",m(),E=e.target.value,async function(e){function n(e){return{Action:28,Adventure:12,Animation:16,Comedy:35,Crime:80,Documentary:99,Drama:18,Family:10751,Fantasy:14,History:36,Horror:27,Music:10402,Mystery:9648,Romance:10749,"Science Fiction":878,"TV Movie":10770,Thriller:53,War:10752,Western:37}[e]}try{g();const t=n(E),a=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${C}&with_genres=${t}&page=${e}`),i=await a.json(),o=await async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${C}`);return(await e.json()).genres}catch(e){console.log(e)}}();(function(e,n){const t=e.sort(((e,n)=>n.popularity-e.popularity)).map((e=>{const{poster_path:t,id:a,title:i,release_date:o,genre_ids:l}=e,s=new Date(o).getFullYear();return`\n        <a class="gallery__link">\n          <div class="gallery__item" id="${a}">\n            <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${t}"/>\n            <h4 class="gallery__item-header">${i}</h4>\n            <span class="gallery__item-info">${n.filter((e=>l.includes(e.id))).map((e=>e.name)).join(", ")}</span>\n            \n            <span class="gallery__item-info">${s}</span>\n            \n          </div>\n        </a>\n      `})).join("");x.insertAdjacentHTML("afterbegin",t)})(i.results.slice(0,20),o),u()}catch(e){console.log(e)}}(E)}));
//# sourceMappingURL=index.2228543c.js.map
