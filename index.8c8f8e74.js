var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire7475;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire7475=i);const a=document.getElementById("search-form"),l=document.querySelector(".input"),s=document.getElementById("gallery"),o=document.getElementById("loader"),r=document.querySelector(".notitle"),c="e7c806d7ce9bbdf1ef93bebcabbfe0f1";let d={};async function u(e,t=1,n=20){try{s.innerHTML="",g();const i=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${c}&language=en-US&query=${e}&include_adult=false&page=${t}`),a=(await i.json()).results.slice(0,n);m(),function(e){s.innerHTML="";const t=e.map((e=>{const{id:t,poster_path:n,title:i,release_date:a,genre_ids:l}=e;if(!a||!n||0===l.length)return"";const s=`https://image.tmdb.org/t/p/w500/${n}`,o=new Date(a).getFullYear();return`\n  <a class="gallery__link">\n  <div class="gallery__item" id="${t}">\n    <img class="gallery__item-img" src="${s}" loading="lazy" />\n    <h4 class="gallery__item-header">${i}</h4>\n    <span class="gallery__item-info">${l.map((e=>d[e])).slice(0,2).join(", ")}</span>\n    <span class="gallery__item-info">${o}</span>\n  </div>\n</a>\n  `})).join("");s.insertAdjacentHTML("beforeend",t)}(a),0===a.length?(m(),p(),s.innerHTML='<p class="myfriend"></p>'):y()}catch(e){console.log(e.toString()),m(),p()}}function g(){o.style.display="flex"}function m(){o.style.display="none"}function p(){r.innerText="Search result not successful. Enter the correct movie name.",r.style.display="block"}function y(){r.style.display="none"}m(),a.addEventListener("submit",(e=>{e.preventDefault();u(l.value),l.value=""})),async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${c}&language=en-US`),t=(await e.json()).genres;for(const e of t)d[e.id]=e.name}catch(e){console.log(e.toString())}}();const f="e7c806d7ce9bbdf1ef93bebcabbfe0f1",h=document.querySelector(".gallery");async function v(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${f}&page=${e}`),n=await t.json(),i=await async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${f}`),t=await e.json();return t.genres}catch(e){console.log(e)}}();return function(e,t){h.innerHTML="";const n=e.sort(((e,t)=>t.popularity-e.popularity)).map((e=>{const{poster_path:n,id:i,title:a,release_date:l,genre_ids:s}=e,o=new Date(l).getFullYear();return`\n <a class="gallery__link">\n <div class="gallery__item" id="${i}">\n <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${n}"/>\n <h4 class="gallery__item-header">${a}</h4>\n <span class="gallery__item-info">${t.filter((e=>s.includes(e.id))).map((e=>e.name)).join(", ")}</span>\n <span class="gallery__item-info">${o}</span>\n </div>\n </a>\n `})).join("");h.insertAdjacentHTML("afterbegin",n)}(n.results,i),n}catch(e){console.log(e)}}v();const _=document.querySelector(".btnUp");function b(){window.scrollTo({top:0,behavior:"smooth"})}_.style.display="none",window.onscroll=function(){!function(){document.documentElement.scrollTop>200?_.style.display="block":_.style.display="none";_.addEventListener("click",b)}()};const L=document.querySelector(".gallery"),w=document.querySelector(".genre"),$="6fc014c055bacb8460b83603c43b9093";let T="";async function M(e){try{g();const t={Action:28,Adventure:12,Animation:16,Comedy:35,Crime:80,Documentary:99,Drama:18,Family:10751,Fantasy:14,History:36,Horror:27,Music:10402,Mystery:9648,Romance:10749,"Science Fiction":878,"TV Movie":10770,Thriller:53,War:10752,Western:37}[T],n=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${$}&with_genres=${t}&page=${e}`),i=await n.json(),a=await async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${$}`);return(await e.json()).genres}catch(e){console.log(e)}}();return function(e,t){const n=e.sort(((e,t)=>t.popularity-e.popularity)).map((e=>{const{poster_path:n,id:i,title:a,release_date:l,genre_ids:s}=e,o=new Date(l).getFullYear(),r=t.filter((e=>s.includes(e.id))).map((e=>e.name)).join(", ");return`\n        <a class="gallery__link">\n          <div class="gallery__item" id="${i}">\n            <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${n}"/>\n            <h4 class="gallery__item-header">${a}</h4>\n            <span class="gallery__item-info">${r}</span>\n            \n            <span class="gallery__item-info">${o}</span>\n            \n          </div>\n        </a>\n      `})).join("");L.insertAdjacentHTML("afterbegin",n)}(i.results.slice(0,20),a),m(),i}catch(e){console.log(e)}}w.addEventListener("change",(function(e){L.innerHTML="",y(),T=e.target.value,M(T)}));const H=document.querySelector(".input");let S=H.value;const E=document.querySelector(".gallery"),k=document.querySelector(".genre"),j=document.getElementById("prevBtn"),q=document.getElementById("nextBtn"),D=document.querySelectorAll(".link");let x=1;document.querySelectorAll(".dots");const A=()=>{20==x?(q.disabled=!0,j.disabled=!1):1==x?(q.disabled=!1,j.disabled=!0):(j.disabled=!1,q.disabled=!1)};function B(){let e,t;if(D.forEach((e=>{e.classList.remove("invisible")})),x>=D.length/2){if(e=D.length-(x+3),t=x-3-1,e>=0)for(let t=0;t<e;t++)D[x+2+t].classList.add("invisible");if(t>=0)for(let e=0;e<t;e++)D[x-4-e].classList.add("invisible")}else{if(e=x-3-1,t=D.length-(x+3),e>=0)for(let t=0;t<e;t++)D[x-4-t].classList.add("invisible");if(t>=0)for(let e=0;e<t;e++)D[x+2+e].classList.add("invisible")}}D.forEach(((e,t)=>{e.addEventListener("click",(n=>{n.preventDefault(),x=t+1,document.querySelector(".active").classList.remove("active"),e.classList.add("active"),"Choose genre"!==k.value?(E.innerHTML="",M(x)):0!==H.value.length?(E.innerHTML="",u(S,x)):(E.innerHTML="",v(x)),A(),B()}))})),j.addEventListener("click",(()=>{let e=x-1;D[e].classList.remove("active"),D[--e].classList.add("active"),x-=1,"Choose genre"!==k.value?(E.innerHTML="",M(x)):0!==H.value.length?(E.innerHTML="",u(S,x)):(E.innerHTML="",v(x)),A(),B()})),q.addEventListener("click",(()=>{let e=x-1;D[e].classList.remove("active"),D[++e].classList.add("active"),x+=1,"Choose genre"!==k.value?(E.innerHTML="",M(x)):0!==H.value.length?(E.innerHTML="",u(S,x)):(E.innerHTML="",v(x)),B(),A()})),B(),i("2794w"),i("dDcbB"),i("h2L8D");
//# sourceMappingURL=index.8c8f8e74.js.map
