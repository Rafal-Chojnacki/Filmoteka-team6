let e;const t=document.querySelector(".toggle-icon-sun"),o=document.querySelector(".day-night-switch");function a(){document.body.classList.add("dark__theme"),t.classList.remove("toggle-icon-sun"),t.classList.add("toggle-icon-moon")}function l(){document.body.classList.remove("dark__theme"),t.classList.remove("toggle-icon-moon"),t.classList.add("toggle-icon-sun")}"use strict";null===localStorage.getItem("darkMode")&&localStorage.setItem("darkMode","false"),"true"===localStorage.getItem("darkMode")?(a(),o.checked=!0):(l(),o.checked=!1),o.addEventListener("change",()=>{o.checked?a():l(),localStorage.setItem("darkMode",o.checked)});const n=document.querySelector(".myLibrary--watched"),s=document.querySelector(".myLibrary--queue"),i=document.querySelector(".watched"),c=document.querySelector(".queue"),d=document.querySelector(".header_library");function r(){n.innerHTML="",n.classList.remove("is-hidden"),s.classList.add("is-hidden"),c.classList.remove("aktiv"),i.classList.add("aktiv");let e=JSON.parse(localStorage.getItem("watched-films"));if(e&&e.length>0){let t=e.map(e=>`<a class="gallery__link">
        <div class="gallery__item" id="${e.id}">
          <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" />
          <h4 class="gallery__item-header">${e.title}</h4>
          <span class="gallery__item-info">${e.genres.map(e=>`${e.name}`).join(", ")}</span>
          <span class="gallery__item-info">${e.release_date.substring(0,4)}</span>
        </div>
      </a>`).join("");n.insertAdjacentHTML("afterbegin",t)}else n.insertAdjacentHTML("afterbegin",'<h4 class="noway">There is nothing here!<p class="nowaytwo">Please add movies to the collection!</p></h4>')}i.addEventListener("click",r),d.addEventListener("click",r),c.addEventListener("click",function(){s.innerHTML="",n.classList.add("is-hidden"),s.classList.remove("is-hidden"),i.classList.remove("aktiv"),c.classList.add("aktiv");let e=JSON.parse(localStorage.getItem("queued-films"));if(e&&e.length>0){let t=e.map(e=>`<a class="gallery__link">
    <div class="gallery__item" id="${e.id}">
      <img class="gallery__item-img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" />
      <h4 class="gallery__item-header">${e.title}</h4>
      <span class="gallery__item-info">${e.genres.map(e=>`${e.name}`).join(", ")}</span>
      <span class="gallery__item-info">${e.release_date.substring(0,4)}</span>
    </div>
  </a>`).join("");s.insertAdjacentHTML("afterbegin",t)}else s.insertAdjacentHTML("afterbegin",'<h4 class="noway">There is nothing here!<p class="nowaytwo">Please add movies to the collection!</p></h4>')}),window.addEventListener("load",r);const m=document.querySelector(".modal-footer");document.querySelector(".close-footer");const u=document.querySelector(".open-modal"),g=document.querySelector(".close-modal");u.addEventListener("click",()=>{m.style.display="block"}),g.addEventListener("click",()=>{m.style.display="none"});const y=document.querySelector(".backdrop"),h=document.querySelector(".modal__btnClose"),_=document.querySelector(".modal__moviePoster"),p=document.querySelector(".modal__title"),S=document.querySelector(".modal__about"),f=document.querySelector(".modal__genre"),v=document.querySelector(".modal__vote"),L=document.querySelector(".modal__votes"),q=document.querySelector(".modal__popularity"),k=document.querySelector(".modal__originalTitle"),b=document.querySelectorAll(".gallery"),w=document.querySelector(".modal__btnRemoveWatched"),$=document.querySelector(".modal__btnRemoveQueue");function E(t){t.target.matches("img")&&(e=t.target.parentNode.id,t.currentTarget.classList.contains("myLibrary--queue")&&($.classList.remove("is-hidden"),w.classList.add("is-hidden")),t.currentTarget.classList.contains("myLibrary--watched")&&(w.classList.remove("is-hidden"),$.classList.add("is-hidden")),I(e).then(e=>{_.setAttribute("src",`https://image.tmdb.org/t/p/w500/${e.poster_path}`),p.textContent=e.title,v.textContent=`${e.vote_average.toFixed(1)}`,L.textContent=`${e.vote_count}`,q.textContent=e.popularity.toFixed(1),k.textContent=e.original_title,S.textContent=e.overview,f.textContent=e.genres[0].name}),x())}async function I(e){try{let t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=e7c806d7ce9bbdf1ef93bebcabbfe0f1`),o=await t.json();return o}catch(e){console.log(e)}}function x(){y.classList.toggle("is-hidden")}b.forEach(e=>{e.addEventListener("click",E)}),h.addEventListener("click",x),document.addEventListener("keydown",function(e){27!==e.keyCode||y.classList.contains("is-hidden")||x()}),y.addEventListener("click",function(e){e.target===y&&x()}),w.addEventListener("click",function(){let t=[];localStorage.getItem("watched-films")&&(t=JSON.parse(localStorage.getItem("watched-films"))),I(e).then(e=>{for(let o=0;o<t.length;o++)if(t[o].id===e.id){let o=t.findIndex(t=>t.id===e.id);t.splice(o,1),localStorage.setItem("watched-films",JSON.stringify(t));let a=document.querySelector(`#${CSS.escape(e.id)}`);a.parentNode.remove(),x()}})}),$.addEventListener("click",function(){let t=[];localStorage.getItem("queued-films")&&(t=JSON.parse(localStorage.getItem("queued-films"))),I(e).then(e=>{for(let o=0;o<t.length;o++)if(t[o].id===e.id){let o=t.findIndex(t=>t.id===e.id);t.splice(o,1),localStorage.setItem("queued-films",JSON.stringify(t));let a=document.querySelector(`#${CSS.escape(e.id)}`);a.parentNode.remove(),x()}})});
//# sourceMappingURL=mylibrary.bc565c80.js.map
